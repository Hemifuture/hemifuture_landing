---
/**
 * Card.astro
 *
 * Universal card component with flexible slot-based content.
 * Supports different animation types and styles.
 */

interface Props {
  /** Animation type for scroll reveal */
  animation?: 'fade-up' | 'scale' | 'fade-left' | 'fade-right' | 'none';
  /** Whether to show top accent line */
  accent?: boolean;
  /** Additional CSS classes */
  class?: string;
  /** Inline styles */
  style?: string;
  /** Link href (makes entire card clickable) */
  href?: string;
}

const {
  animation = 'fade-up',
  accent = false,
  class: className = '',
  style = '',
  href
} = Astro.props;

const animationClass = animation !== 'none' ? `fade-in-${animation === 'fade-up' ? 'up' : animation === 'scale' ? '' : animation}` : '';
const accentClass = accent ? 'card-accent-top' : '';

const CardTag = href ? 'a' : 'article';
const cardProps = href ? { href } : {};
---

<CardTag
  class:list={['card', animationClass, accentClass, className]}
  style={style}
  {...cardProps}
>
  <slot />
</CardTag>

<style>
  .card {
    background: var(--color-surface-glass);
    border: 1px solid var(--color-border-default);
    border-radius: var(--radius-xl);
    padding: var(--space-10);
    position: relative;
    overflow: hidden;
    transition: var(--transition-smooth);
    text-decoration: none;
    color: inherit;
    display: block;
  }

  .card:hover {
    border-color: var(--color-border-emphasis);
    box-shadow: var(--glow-card-hover);
    transform: translateY(-4px);
  }

  /* Top accent line */
  .card-accent-top::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--gradient-fade-horizontal);
    opacity: 0.3;
    transition: var(--transition-normal);
  }

  .card-accent-top:hover::before {
    opacity: 1;
    background: var(--gradient-aurora);
  }
</style>
